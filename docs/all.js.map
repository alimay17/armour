{"version":3,"sources":["apiConnect.js","main.js"],"names":["apiConnect","options","method","headers","async","type","searchString","url","response","fetch","this","json","results","recipeId","recipeUrl","console","log","searchDisplay","result","resultList","document","getElementById","innerHTML","forEach","r","li","createElement","link","linkText","createTextNode","title","appendChild","setAttribute","id","detailDisplay","summary","instructions","ingredientList","innerText","extendedIngredients","i","original","page","window","location","href","includes","addEventListener","event","preventDefault","searchForm","value","search","then","rId","substring","split","getRecipeById"],"mappings":"AAAA,MAAAA,WAAA,CACAC,QAAA,CACAC,OAAA,MACAC,QAAA,CACA,iBAAA,qDACA,kBAAA,mCAIAC,aAAAC,EAAAC,GACAC,IAAA,+DAAAD,UAAAD,cAEA,MAAAG,QAAAC,MAAAF,IAAAG,KAAAT,SAEA,aADAO,EAAAG,QACAC,OACA,EAEAR,oBAAAS,GACAN,IAAA,kDAAAM,gBAEA,MAAAL,QAAAC,MAAAF,IAAAG,KAAAT,SAEA,aADAO,EAAAG,MAEA,EAEAP,kBAAAU,GACAP,IAAA,8DAAAO,IACAC,QAAAC,IAAAT,KACA,MAAAC,QAAAC,MAAAF,IAAAG,KAAAT,SAEA,aADAO,EAAAG,MAEA,GC7BA,SAAAM,cAAAC,GACA,IAAAC,EAAAC,SAAAC,eAAA,eACAF,EAAAG,UAAA,GACAJ,EAAAK,SAAAC,IACA,IAAAC,EAAAL,SAAAM,cAAA,MACAC,EAAAP,SAAAM,cAAA,KACAE,EAAAR,SAAAS,eAAAL,EAAAM,OACAH,EAAAI,YAAAH,GACAD,EAAAK,aAAA,QAAA,UACAL,EAAAK,aAAA,KAAAR,EAAAS,IACAN,EAAAK,aAAA,OAAA,2BAAAR,EAAAS,MACAR,EAAAM,YAAAJ,GACAR,EAAAY,YAAAN,EAAA,GAEA,CAEA,SAAAS,cAAAhB,GACA,IAAAiB,EAAAf,SAAAC,eAAA,WACAS,EAAAV,SAAAC,eAAA,aACAe,EAAAhB,SAAAC,eAAA,gBACAgB,EAAAjB,SAAAC,eAAA,kBAEAc,EAAAb,UAAAJ,EAAAiB,QACAL,EAAAQ,UAAApB,EAAAY,MACAM,EAAAd,UAAAJ,EAAAkB,aAEAlB,EAAAqB,oBAAAhB,SAAAiB,IACA,IAAAf,EAAAL,SAAAM,cAAA,MACAD,EAAAa,UAAAE,EAAAC,SACAJ,EAAAN,YAAAN,EAAA,GAEA,CAGA,IAAAiB,KAAAC,OAAAC,SAAAC,KAEA,GAAAH,KAAAI,SAAA,cAAA,CACA1B,SAAAC,eAAA,cACA0B,iBAAA,SAAA,SAAAC,GACAA,EAAAC,iBACA,IAAAC,EAAA9B,SAAAC,eAAA,cACAhB,EAAA6C,EAAA,GAAAC,MACAA,EAAAD,EAAA,GAAAC,MACAnD,WAAAoD,OAAA/C,EAAA8C,GAAAE,MAAAnC,GAAAD,cAAAC,IACA,GACA,CAEA,GAAAwB,KAAAI,SAAA,mBAAA,CACA,IAAAQ,EAAAX,OAAAC,SAAAQ,OAAAG,UAAA,GAAAC,MAAA,KAAA,GACAxD,WAAAyD,cAAAH,GAAAD,MAAAnC,GAAAgB,cAAAhB,IACA","file":"all.js","sourcesContent":["const apiConnect = {\n  options: {\n    method: 'GET',\n    headers: {\n      'X-RapidAPI-Key': 'a28c9f371dmsh5d7b4dc354ec0c2p1be43fjsn397ad3f9cce4',\n      'X-RapidAPI-Host': 'webknox-recipes.p.rapidapi.com'\n    }\n  },\n\n  async search(type, searchString) {\n    url = `https://webknox-recipes.p.rapidapi.com/recipes/search?query=${searchString}&type=${type}&number=15`;\n    \n    const response = await fetch(url, this.options);\n    const json = await response.json();\n    return json.results;\n  },\n\n  async getRecipeById(recipeId){\n    url = `https://webknox-recipes.p.rapidapi.com/recipes/${recipeId}/information`;\n    \n    const response = await fetch(url, this.options);\n    const json = await response.json();\n    return json;\n  },\n\n  async extractData(recipeUrl,){\n    url = `https://webknox-recipes.p.rapidapi.com/recipes/extract?url=${recipeUrl}`;\n    console.log(url);\n    const response = await fetch(url, this.options);\n    const json = await response.json();\n    return json;\n  }\n}","\n/*----------  Functions  ----------*/\nfunction searchDisplay(result){\n  let resultList = document.getElementById('resultsList');\n  resultList.innerHTML = '';\n  result.forEach(r => {\n    let li = document.createElement('li');\n    let link = document.createElement('a');\n    let linkText = document.createTextNode(r.title);\n      link.appendChild(linkText);\n      link.setAttribute('class', 'recipe');\n      link.setAttribute('id', r.id);\n      link.setAttribute('href', `html/mealDetail.html?id=${r.id}`);\n      li.appendChild(link);\n    resultList.appendChild(li);\n  });\n}\n\nfunction detailDisplay(result){\n  let summary = document.getElementById('summary');\n  let title = document.getElementById('mealTitle');\n  let instructions = document.getElementById('instructions');\n  let ingredientList = document.getElementById('ingredientList');\n\n  summary.innerHTML = result.summary;\n  title.innerText = result.title;\n  instructions.innerHTML = result.instructions;\n\n  result.extendedIngredients.forEach(i => {\n    let li = document.createElement('li');\n    li.innerText = i.original;\n    ingredientList.appendChild(li);\n  })\n}\n\n/*----------  Main ----------*/\nlet page = window.location.href;\n\nif(page.includes('index.html')){\n  const mealSearch = document.getElementById('mealSearch');\n  mealSearch.addEventListener('click', function(event) {\n    event.preventDefault();\n    let searchForm = document.getElementById('mealSearch');\n    let type = searchForm[0].value;\n    let value = searchForm[1].value;\n    apiConnect.search(type, value).then(result => searchDisplay(result));\n  });\n}\n\nif (page.includes('mealDetail.html')) {\n  let rId = window.location.search.substring(1).split('=')[1];\n  apiConnect.getRecipeById(rId).then(result => detailDisplay(result));\n}\n\n"]}