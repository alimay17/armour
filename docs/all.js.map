{"version":3,"sources":["apiConnect.js","main.js"],"names":["apiConnect","options","method","headers","async","type","searchString","url","response","fetch","this","json","results","recipeId","recipeUrl","console","log","searchDisplay","result","resultList","document","getElementById","innerHTML","forEach","r","li","createElement","link","linkText","createTextNode","title","appendChild","setAttribute","id","detailDisplay","summary","instructions","ingredientList","innerText","extendedIngredients","i","original","page","window","location","href","includes","addEventListener","event","preventDefault","searchForm","value","search","then","rId","substring","split","getRecipeById"],"mappings":"AAAA,MAAAA,WAAA,CACAC,QAAA,CACAC,OAAA,MACAC,QAAA,CACA,iBAAA,qDACA,kBAAA,mCAIAC,aAAAC,EAAAC,GACAC,IAAA,+DAAAD,UAAAD,cAEA,MAAAG,QAAAC,MAAAF,IAAAG,KAAAT,SAEA,aADAO,EAAAG,QACAC,OACA,EAEAR,oBAAAS,GACAN,IAAA,kDAAAM,gBAEA,MAAAL,QAAAC,MAAAF,IAAAG,KAAAT,SAEA,aADAO,EAAAG,MAEA,EAEAP,kBAAAU,GACAP,IAAA,8DAAAO,IACAC,QAAAC,IAAAT,KACA,MAAAC,QAAAC,MAAAF,IAAAG,KAAAT,SAEA,aADAO,EAAAG,MAEA,GC7BA,SAAAM,cAAAC,GACA,IAAAC,EAAAC,SAAAC,eAAA,eACAF,EAAAG,UAAA,GACAJ,EAAAK,SAAAC,IACA,IAAAC,EAAAL,SAAAM,cAAA,MACAC,EAAAP,SAAAM,cAAA,KACAE,EAAAR,SAAAS,eAAAL,EAAAM,OACAH,EAAAI,YAAAH,GACAD,EAAAK,aAAA,QAAA,UACAL,EAAAK,aAAA,KAAAR,EAAAS,IACAN,EAAAK,aAAA,OAAA,2BAAAR,EAAAS,MACAR,EAAAM,YAAAJ,GACAR,EAAAY,YAAAN,EAAA,GAEA,CAEA,SAAAS,cAAAhB,GACA,IAAAiB,EAAAf,SAAAC,eAAA,WACAS,EAAAV,SAAAC,eAAA,aACAe,EAAAhB,SAAAC,eAAA,gBACAgB,EAAAjB,SAAAC,eAAA,kBAEAc,EAAAb,UAAAJ,EAAAiB,QACAL,EAAAQ,UAAApB,EAAAY,MACAM,EAAAd,UAAAJ,EAAAkB,aAEAlB,EAAAqB,oBAAAhB,SAAAiB,IACA,IAAAf,EAAAL,SAAAM,cAAA,MACAD,EAAAa,UAAAE,EAAAC,SACAJ,EAAAN,YAAAN,EAAA,GAEA,CAGA,IAAAiB,KAAAC,OAAAC,SAAAC,KAEA,GAAAH,KAAAI,SAAA,cAAA,CACA1B,SAAAC,eAAA,cACA0B,iBAAA,SAAA,SAAAC,GACAA,EAAAC,iBACA,IAAAC,EAAA9B,SAAAC,eAAA,cACAhB,EAAA6C,EAAA,GAAAC,MACAA,EAAAD,EAAA,GAAAC,MACAnD,WAAAoD,OAAA/C,EAAA8C,GAAAE,MAAAnC,GAAAD,cAAAC,IACA,GACA,CAEA,GAAAwB,KAAAI,SAAA,mBAAA,CACA,IAAAQ,EAAAX,OAAAC,SAAAQ,OAAAG,UAAA,GAAAC,MAAA,KAAA,GACAxD,WAAAyD,cAAAH,GAAAD,MAAAnC,GAAAgB,cAAAhB,IACA","file":"all.js","sourcesContent":["const apiConnect = {\r\n  options: {\r\n    method: 'GET',\r\n    headers: {\r\n      'X-RapidAPI-Key': 'a28c9f371dmsh5d7b4dc354ec0c2p1be43fjsn397ad3f9cce4',\r\n      'X-RapidAPI-Host': 'webknox-recipes.p.rapidapi.com'\r\n    }\r\n  },\r\n\r\n  async search(type, searchString) {\r\n    url = `https://webknox-recipes.p.rapidapi.com/recipes/search?query=${searchString}&type=${type}&number=15`;\r\n    \r\n    const response = await fetch(url, this.options);\r\n    const json = await response.json();\r\n    return json.results;\r\n  },\r\n\r\n  async getRecipeById(recipeId){\r\n    url = `https://webknox-recipes.p.rapidapi.com/recipes/${recipeId}/information`;\r\n    \r\n    const response = await fetch(url, this.options);\r\n    const json = await response.json();\r\n    return json;\r\n  },\r\n\r\n  async extractData(recipeUrl,){\r\n    url = `https://webknox-recipes.p.rapidapi.com/recipes/extract?url=${recipeUrl}`;\r\n    console.log(url);\r\n    const response = await fetch(url, this.options);\r\n    const json = await response.json();\r\n    return json;\r\n  }\r\n}","\r\n/*----------  Functions  ----------*/\r\nfunction searchDisplay(result){\r\n  let resultList = document.getElementById('resultsList');\r\n  resultList.innerHTML = '';\r\n  result.forEach(r => {\r\n    let li = document.createElement('li');\r\n    let link = document.createElement('a');\r\n    let linkText = document.createTextNode(r.title);\r\n      link.appendChild(linkText);\r\n      link.setAttribute('class', 'recipe');\r\n      link.setAttribute('id', r.id);\r\n      link.setAttribute('href', `html/mealDetail.html?id=${r.id}`);\r\n      li.appendChild(link);\r\n    resultList.appendChild(li);\r\n  });\r\n}\r\n\r\nfunction detailDisplay(result){\r\n  let summary = document.getElementById('summary');\r\n  let title = document.getElementById('mealTitle');\r\n  let instructions = document.getElementById('instructions');\r\n  let ingredientList = document.getElementById('ingredientList');\r\n\r\n  summary.innerHTML = result.summary;\r\n  title.innerText = result.title;\r\n  instructions.innerHTML = result.instructions;\r\n\r\n  result.extendedIngredients.forEach(i => {\r\n    let li = document.createElement('li');\r\n    li.innerText = i.original;\r\n    ingredientList.appendChild(li);\r\n  })\r\n}\r\n\r\n/*----------  Main ----------*/\r\nlet page = window.location.href;\r\n\r\nif(page.includes('index.html')){\r\n  const mealSearch = document.getElementById('mealSearch');\r\n  mealSearch.addEventListener('click', function(event) {\r\n    event.preventDefault();\r\n    let searchForm = document.getElementById('mealSearch');\r\n    let type = searchForm[0].value;\r\n    let value = searchForm[1].value;\r\n    apiConnect.search(type, value).then(result => searchDisplay(result));\r\n  });\r\n}\r\n\r\nif (page.includes('mealDetail.html')) {\r\n  let rId = window.location.search.substring(1).split('=')[1];\r\n  apiConnect.getRecipeById(rId).then(result => detailDisplay(result));\r\n}\r\n\r\n"]}